kfp@r-bupt6_re0> show configuration | no-more 
## Last commit: 2013-04-03 10:38:05 CST by kfp
version 10.0S6;
groups {
    re0 {
        system {
            host-name r-bupt6_re0;
        }
    }
    re1 {
        system {
            host-name r-bupt6_re1;
        }
    }
    INTERFACE-BACKBONE {
        interfaces {
            <*> {
                mtu 9192;
                encapsulation ppp;
                sonet-options {
                    fcs 32;
                    payload-scrambler;
                }
                unit 0 {
                    family inet {
                        mtu 9180;
                    }
                    family inet6 {
                        mtu 9180;
                        filter {
                            input cos-ipv6;
                            output cos-ipv6;
                        }
                    }
                    family mpls {
                        mtu 9180;
                    }
                }
            }
        }
    }
}
system {
    apply-groups [ re0 re1 ];
    domain-name cernet2.net;
    time-zone Asia/Shanghai;
    root-authentication {
        encrypted-password "$1$9fJ3yc6N$PspNGj5g7szGaC/mBFUeY0"; ## SECRET-DATA
    }
    name-server {
        202.38.184.13;
        202.38.184.29;
        2001:250:C006::2;
        2001:251:E101::2;
    }
    login {
        class noc {
            permissions all;
            deny-commands "^configure$";
        }
        class normal {
            idle-timeout 3;
            permissions [ interface network view ];
            allow-commands "show log *";
        }
        class xzhao {
            permissions all;
            deny-commands "configure|restart|request";
        }
        user admin {
            uid 2000;
            class super-user;
            authentication {
                encrypted-password "$1$KoTtAuS7$7iobauLsbpbCpmhaZMwLZ."; ## SECRET-DATA
            }
        }
        user buptcore205 {
            uid 2011;
            class super-user;
            authentication {
                encrypted-password "$1$l3GNiNpF$ThRF4qylAUXWYZkGIRdra."; ## SECRET-DATA
            }
        }
        inactive: user cernet {
            uid 2005;
            class super-user;
            authentication {
                encrypted-password "$1$VWAU/aeG$hgMFb5WFvRVYRWDEN7SQS."; ## SECRET-DATA
            }
        }
        user cernet2 {
            uid 2001;
            class normal;
            authentication {
                encrypted-password "$1$JZM7Bo4i$8rhz8dKrjHH2xxdi/jZ8D/"; ## SECRET-DATA
            }
        }
        user gaowenjun {
            uid 2010;
            class noc;
            authentication {
                encrypted-password "$1$6PUL1Cy/$bDXk9WTHjYQ459EAhePg9/"; ## SECRET-DATA
            }
        }
        inactive: user juniper {
            uid 2002;
            class super-user;
            authentication {
                encrypted-password "$1$xUvT9Vav$MGbwmP3.GvGdpwQb/7U84/"; ## SECRET-DATA
            }
        }
        user kfp {
            uid 2008;
            class super-user;
            authentication {
                encrypted-password "$1$T7xdY67k$NB/lVRcHycNCmcSEDghyb1"; ## SECRET-DATA
            }
        }
        inactive: user liuyu {
            uid 2009;
            class super-user;
            authentication {
                encrypted-password "$1$CCrtMyAs$jbfxgyQM9UPPPTGuomwan."; ## SECRET-DATA
            }
        }
        user zhzhy {
            uid 2003;
            class super-user;
            authentication {
                encrypted-password "$1$QOFNsClj$mYjl21HIq.7YJkFw7rYhR0"; ## SECRET-DATA
            }
        }
    }
    services {
        inactive: ftp;
        ssh {
            root-login deny;
        }
    }
    syslog {
        user * {
            any emergency;
        }
        host 219.243.215.123 {
            authorization any;
            daemon warning;
            kernel warning;
            firewall any;
        }
        file messages {
            any notice;
            authorization info;
        }
        time-format year;
        source-address 202.38.120.205;
    }
    commit synchronize;
    ntp {
        server 202.112.0.38;
        server 202.112.0.7;
    }
}
chassis {
    redundancy {
        graceful-switchover;
    }
    alarm {
        management-ethernet {
            link-down ignore;
        }
    }
}
interfaces {
    so-0/0/0 {
        apply-groups INTERFACE-BACKBONE;
        description 2.5G_to_BeiJing-Core_J;
        clocking external;
        encapsulation ppp;
        sonet-options {
            fcs 32;
            payload-scrambler;
        }
        unit 0 {
            family inet {
                address 202.38.120.118/30;
            }
            family inet6 {
                filter {
                    input cos-ipv6;
                    output cos-ipv6;
                }
                address 2001:da8:1:1e::2/64;
            }
            family mpls;
        }
    }
    so-0/0/1 {
        apply-groups INTERFACE-BACKBONE;
        description 2.5G_to_BeiJing-Core_J-2;
        clocking external;
        encapsulation ppp;
        sonet-options {
            fcs 32;
            payload-scrambler;
        }
        unit 0 {
            family inet {
                address 202.38.120.78/30;
            }
            family inet6 {
                filter {
                    input cos-ipv6;
                    output cos-ipv6;
                }
                address 2001:da8:1:14::2/64;
            }
            family mpls;
        }
    }
    inactive: so-0/0/2 {
        description 2.5G_to_BUPT-Edge_B;
        clocking internal;
        encapsulation ppp;
        sonet-options {
            fcs 32;
            payload-scrambler;
        }
        unit 0 {
            family inet {
                filter {
                    input snmp-in;
                }
                address 10.2.14.1/30;
            }
            family inet6 {
                address 2001:da8:1:10e::1/64;
            }
        }
    }
    so-0/2/0 {
        apply-groups INTERFACE-BACKBONE;
        description 2.5G_to_BeiJing-Core_J-3;
        inactive: unit 0 {
            family inet {
                address 202.38.120.110/30;
            }
            family inet6 {
                address 2001:da8:1:1c::2/64;
            }
        }
    }
    sp-1/0/0 {
        unit 0 {
            family inet;
            family inet6;
        }
    }
    xe-2/0/0 {
        description 10G_to_Beijing-Core_J;
        unit 0 {
            family inet {
                address 202.38.120.110/30;
            }
            family inet6 {
                filter {
                    input cos-ipv6;
                    output cos-ipv6;
                }
                address 2001:da8:1:1c::2/64;
            }
        }
    }
    so-2/1/0 {
        description 2.5G_to_BUPT-Edge_B_2;
        clocking internal;
        encapsulation ppp;
        sonet-options {
            fcs 32;
            payload-scrambler;
        }
        unit 0 {
            family inet {
                filter {
                    input snmp-in;
                }
                address 10.1.14.1/30;
            }
            family inet6 {
                address 2001:da8:1:20e::1/64;
            }
        }
    }
    so-2/1/1 {
        description 2.5G_to_BUPT-Edge_B_3;
        clocking internal;
        encapsulation ppp;
        sonet-options {
            fcs 32;
            payload-scrambler;
        }
        unit 0 {
            family inet {
                filter {
                    input snmp-in;
                }
                address 10.3.14.1/30;
            }
            family inet6 {
                address 2001:da8:1:30e::1/64;
            }
        }
    }
    so-2/1/2 {
        description 2.5G_to_BUPT-Edge_B;
        clocking internal;
        encapsulation ppp;
        sonet-options {
            fcs 32;
            payload-scrambler;
        }
        unit 0 {
            family inet {
                filter {
                    input snmp-in;
                }
                address 10.2.14.1/30;
            }
            family inet6 {
                address 2001:da8:1:10e::1/64;
            }
        }
    }
    so-2/1/3 {
        apply-groups INTERFACE-BACKBONE;
        description 2.5G_to_BUAA-Core_J;
        clocking internal;
        encapsulation ppp;
        sonet-options {
            fcs 32;
            payload-scrambler;
        }
        unit 0 {
            family inet {
                address 202.38.120.113/30;
            }
            family inet6 {
                address 2001:da8:1:1d::1/64;
            }
            family mpls;
        }
    }
    ge-2/2/0 {
        description 1G_to_2960SW;
        vlan-tagging;
        unit 10 {
            description "For NMS-Group SunFire Server";
            vlan-id 10;
            family inet {
                address 219.243.213.233/29;
            }
            family inet6 {
                address 2001:da8:ff:20e::1/64;
            }
        }
        unit 20 {
            description "For Multicast-Routing IBM Server";
            vlan-id 20;
            family inet6 {
                address 2001:da8:ff:10e::1/64;
            }
        }
        unit 30 {
            description "For Multicast L1-Gateway Server";
            vlan-id 30;
            family inet6 {
                address 2001:da8:feed:4::1/64;
            }
        }
    }
    ge-2/2/1 {
        description 1G_to_BUPT-Edge_B_4;
        unit 0 {
            family inet {
                address 10.4.14.1/30;
            }
        }
    }
    ge-2/3/0 {
        description 10G_to_BUPT-Edge_NE40e;
        unit 0 {
            family inet {
                filter {
                    input snmp-in;
                }
                address 10.5.14.1/30;
            }
            family inet6 {
                filter {
                    input ipv6-sample;
                    output ipv6-sample;
                }
                address 2001:da8:1:40e::1/64 {
                    primary;
                }
                address 2001:da8:1:50e::1/64;
            }
        }
    }
    lo0 {
        description BUPT-Core_BeiJing_Juniper;
        unit 0 {
            family inet {
                filter {
                    input RE_filter-v4;
                }
                address 202.38.120.205/32;
            }
            family inet6 {
                filter {
                    input RE_filter-v6;
                }
                address 2001:DA8:1:ff::14/128;
            }
        }
    }
}
forwarding-options {
    sampling {
        input {
            rate 100;
        }
        family inet6 {
            output {
                flow-server 219.243.213.236 {
                    port 61410;
                    autonomous-system-type origin;
                    no-local-dump;
                    version9 {
                        template {
                            ipv6;
                        }
                    }
                }
                flow-server 219.243.215.118 {
                    port 61410;
                    autonomous-system-type origin;
                    no-local-dump;
                    version9 {
                        template {
                            ipv6;
                        }
                    }
                }
                interface sp-1/0/0 {
                    source-address 202.38.120.205;
                }
            }
        }
    }
}
snmp {
    community CERNET2 {
        authorization read-only;
    }
    community Test {
        authorization read-only;
    }
    trap-group cernet {
        version v2;
        categories {
            authentication;
            chassis;
            link;
            routing;
            startup;
            sonet-alarms;
        }
        targets {
            202.38.120.251;
            202.38.120.243;
            2001:da8:1:100::110;
            2001:da8:1:100::30;
        }
    }
    trap-group cernet2 {
        targets {
            219.243.208.38;
            219.243.208.39;
            2001:da8:ff:100::43;
            166.111.143.195;
            166.111.143.199;
        }
    }
}
routing-options {
    graceful-restart;
    autonomous-system 23910;
    forwarding-table {
        export load-balancing;
    }
}
protocols {
    mld {
        interface all {
            disable;
        }
        interface ge-2/2/0.20 {
            version 2;
        }
        interface ge-2/2/0.30 {
            version 2;
        }
    }
    bgp {
        group ibgpv4-core {
            type internal;
            description to_cernet2_all_v4cores;
            local-address 202.38.120.205;
            family inet {
                unicast;
            }
            neighbor 202.38.120.192 {
                description to_cernet2_r-bj6;
            }
            neighbor 202.38.120.193 {
                description to_cernet2_r-wh6;
            }
            neighbor 202.38.120.194 {
                description to_cernet2_r-bj6;
            }
            neighbor 202.38.120.195 {
                description to_cernet2_r-nj6;
            }
            neighbor 202.38.120.196 {
                description to_cernet2_r-sh6;
            }
            neighbor 202.38.120.197 {
                description to_cernet2_r-zhz6;
            }
            neighbor 202.38.120.198 {
                description to_cernet2_r-tjn6;
            }
            neighbor 202.38.120.199 {
                description to_cernet2_r-jnn6;
            }
            neighbor 202.38.120.200 {
                description to_cernet2_r-sy6;
            }
            neighbor 202.38.120.201 {
                description to_cernet2_r-dln6;
            }
            neighbor 202.38.120.202 {
                description to_cernet2_r-chc6;
            }
            neighbor 202.38.120.203 {
                description to_cernet2_r-hrb6;
            }
            neighbor 202.38.120.204 {
                description to_cernet2_r-pku6;
            }
            neighbor 202.38.120.206 {
                description to_cernet2_r-buaa6;
            }
            neighbor 202.38.120.207 {
                description to_cernet2_r-xa6;
            }
            neighbor 202.38.120.208 {
                description to_cernet2_r-cd6;
            }
            neighbor 202.38.120.209 {
                description to_cernet2_r-chq6;
            }
            neighbor 202.38.120.210 {
                description to_cernet2_r-lzh6;
            }
            neighbor 202.38.120.211 {
                description to_cernet2_r-hef6;
            }
            neighbor 202.38.120.212 {
                description to_cernet2_r-hzh6;
            }
            neighbor 202.38.120.213 {
                description to_cernet2_r-xmn6;
            }
            neighbor 202.38.120.214 {
                description to_cernet2_r-chs6;
            }
            neighbor 202.38.120.215 {
                description to_cernet2_r-fudan6;
            }
            neighbor 202.38.120.216 {
                description to_cernet2_r-tongji6;
            }
        }
        group ibgpv6-core {
            type internal;
            description to_cernet2_all_v6cores;
            local-address 2001:da8:1:ff::14;
            family inet6 {
                unicast;
            }
            export nhs;
            neighbor 2001:da8:1:ff::1 {
                description to_cernet2_r-bj6;
            }
            neighbor 2001:da8:1:ff::2 {
                description to_cernet2_r-wh6;
            }
            neighbor 2001:da8:1:ff::3 {
                description to_cernet2_r-gz6;
            }
            neighbor 2001:da8:1:ff::4 {
                description to_cernet2_r-nj6;
            }
            neighbor 2001:da8:1:ff::5 {
                description to_cernet2_r-sh6;
            }
            neighbor 2001:da8:1:ff::6 {
                description to_cernet2_r-zhz6;
            }
            neighbor 2001:da8:1:ff::7 {
                description to_cernet2_r-tjn6;
            }
            neighbor 2001:da8:1:ff::8 {
                description to_cernet2_r-jnn6;
            }
            neighbor 2001:da8:1:ff::9 {
                description to_cernet2_r-sy6;
            }
            neighbor 2001:da8:1:ff::10 {
                description to_cernet2_r-dln6;
            }
            neighbor 2001:da8:1:ff::11 {
                description to_cernet2_r-chc6;
            }
            neighbor 2001:da8:1:ff::12 {
                description to_cernet2_r-hrb6;
            }
            neighbor 2001:da8:1:ff::13 {
                description to_cernet2_r-pku6;
            }
            neighbor 2001:da8:1:ff::15 {
                description to_cernet2_r-buaa6;
            }
            neighbor 2001:da8:1:ff::16 {
                description to_cernet2_r-xa6;
            }
            neighbor 2001:da8:1:ff::17 {
                description to_cernet2_r-cd6;
            }
            neighbor 2001:da8:1:ff::18 {
                description to_cernet2_r-chq6;
            }
            neighbor 2001:da8:1:ff::19 {
                description to_cernet2_r-lzh6;
            }
            neighbor 2001:da8:1:ff::20 {
                description to_cernet2_r-hef6;
            }
            neighbor 2001:da8:1:ff::21 {
                description to_cernet2_r-hzh6;
            }
            neighbor 2001:da8:1:ff::22 {
                description to_cernet2_r-xmn6;
            }
            neighbor 2001:da8:1:ff::23 {
                description to_cernet2_r-chs6;
            }
            neighbor 2001:da8:1:ff::24 {
                description to_cernet2_r-fudan6;
            }
            neighbor 2001:da8:1:ff::25 {
                description to_cernet2_r-tongji6;
            }
        }
        group ibgp-v4-7206 {
            type internal;
            local-address 202.38.120.205;
            family inet {
                unicast;
            }
            neighbor 202.38.120.217 {
                description to_Cisco-7206;
            }
        }
        group ibgp-v6-7206 {
            type internal;
            local-address 2001:da8:1:ff::14;
            family inet6 {
                unicast;
            }
            neighbor 2001:da8:1:ff::26 {
                description to_Cisco-7206;
            }
        }
        group ebgp-v6-edge {
            type external;
            import ebgp-v6-edge-im-policy;
            export ebgp-v6-edge-ex-policy;
            peer-as 24350;
            multipath;
            neighbor 2001:da8:1:10e::2 {
                description to_edge_be12k;
            }
            neighbor 2001:da8:1:50e::2 {
                description to_edge_ne40e;
            }
        }
        group ebgp-v6-immc {
            type external;
            local-address 2001:da8:1:ff::14;
            import import-deny-all;
            family inet6 {
                unicast;
            }
            export ebgp-v6-immc-ex-policy;
            neighbor 2001:da8:ff:301::2 {
                description "To IMMC0, contact: xzhao@cernet.edu.cn";
                multihop;
                passive;
                peer-as 65156;
            }
        }
    }
    ospf {
        export [ direct-routes connected ];
        reference-bandwidth 10g;
        area 0.0.0.0 {
            interface so-2/1/3.0;
            interface xe-2/0/0.0;
        }
    }
    ospf3 {
        export direct-routes;
        reference-bandwidth 10g;
        area 0.0.0.0 {
            interface so-2/1/3.0;
            interface xe-2/0/0.0;
        }
    }
    pim {
        traceoptions {
            file pim-log;
            flag join detail;
            flag prune;
            flag register;
        }
        import pim-v6-only;
        rp {
            bootstrap {
                family inet6 {
                    priority 0;
                }
            }
            embedded-rp;
        }
        interface all {
            mode sparse;
            version 2;
        }
        interface fxp0.0 {
            disable;
        }
        interface fxp1.0 {
            disable;
        }
        interface lo0.0 {
            disable;
        }
    }
}
policy-options {
    policy-statement connected {
        from {
            protocol static;
            route-filter 219.243.213.232/29 exact;
        }
        then {
            external {
                type 1;
            }
            accept;
        }
    }
    policy-statement direct-routes {
        from protocol direct;
        then {
            external {
                type 1;
            }
            accept;
        }
    }
    policy-statement ebgp-v6-edge-ex-policy {
        term CERNET2 {
            from {
                route-filter 2001:da8::/32 prefix-length-range /33-/48;
            }
            then accept;
        }
        term IVI {
            from {
                route-filter 2001:da8:ff3a:c880::/57 prefix-length-range /64-/64;
            }
            then accept;
        }
        term Others {
            from {
                route-filter 2001:250::/32 prefix-length-range /32-/48;
                route-filter 3ffe:3200::/24 prefix-length-range /24-/48;
            }
            then accept;
        }
        term Peers {
            from {
                protocol bgp;
                route-filter 2000::/3 upto /48;
            }
            then accept;
        }
        term Subnet {
            from {
                route-filter ::/0 prefix-length-range /49-/128;
            }
            then reject;
        }
    }
    policy-statement ebgp-v6-edge-im-policy {
        term CERNET2 {
            from {
                route-filter 2001:da8::/32 prefix-length-range /33-/48;
            }
            then accept;
        }
        term Others {
            from {
                route-filter 2001:250::/32 prefix-length-range /32-/48;
                route-filter 3ffe:3200::/24 prefix-length-range /24-/48;
            }
            then accept;
        }
        /* China University Internet Test Environment Project */
        term CUTE {
            from {
                as-path CUTE;
                route-filter 2402:2000::/32 exact;
            }
            then {
                community add cernet2-cute;
                accept;
            }
        }
        /* www.cnisp.org.cn */
        term CNISP {
            from {
                as-path CNISP;
                /* BJ-GJHYNET www.bjgjhy.com */
                route-filter 2401:aa00::/32 exact;
                /* SUNINFO-MDC www.suninfo.com.cn */
                route-filter 2401:ba00::/32 exact;
                /* CNCITYNET */
                route-filter 2401:be00::/32 exact;
                /* CHD */
                route-filter 2401:c200::/32 exact;
                /* BJ-GJHYNET www.bjgjhy.com */
                route-filter 2401:c600::/32 exact;
            }
            then {
                community add cernet2-cnisp;
                accept;
            }
        }
        term BII {
            from {
                as-path BII;
                route-filter 240c::/28 exact;
                route-filter 240c:2::/32 exact;
                route-filter 240c:3::/32 exact;
                route-filter 240c:f::/32 exact;
            }
            then {
                community add cernet2-bii;
                accept;
            }
        }
        inactive: term Peers {
            from {
                route-filter 2000::/3 upto /35;
            }
            then accept;
        }
        term IVI {
            from {
                route-filter 2001:da8:ff3a:c880::/57 prefix-length-range /64-/64;
            }
            then accept;
        }
        term SNMP_Server {
            from {
                route-filter 2001:da8:ff:20e::/64 exact;
            }
            then accept;
        }
        term SSM {
            from {
                route-filter 2001:da8:ff3e:202::/64 exact;
            }
            then accept;
        }
        term SSM_Bao {
            from {
                route-filter 2001:da8:feee::/48 prefix-length-range /64-/64;
            }
            then accept;
        }
        term Multicast_Server {
            from {
                route-filter 2001:da8:ff:10e::/64 exact;
            }
            then accept;
        }
        term Subnet {
            then reject;
        }
    }
    policy-statement ebgp-v6-immc-ex-policy {
        term internal-routes {
            from {
                route-filter 2001:da8::/32 longer;
                route-filter 2402:f000::/32 longer;
                route-filter 2402:2000::/32 longer;
                route-filter 240c::/28 longer;
                route-filter 2001:256::/32 longer;
                route-filter 2401:ec00::/32 longer;
                route-filter 2403:d400::/32 longer;
            }
            then reject;
        }
        term Others {
            then accept;
        }
    }
    policy-statement import-deny-all {
        then reject;
    }
    policy-statement load-balancing {
        then {
            load-balance per-packet;
        }
    }
    policy-statement nhs {
        then {
            next-hop self;
        }
    }
    policy-statement pim-v6-only {
        term v6-group-address {
            from {
                route-filter ff00::/8 orlonger;
            }
            then accept;
        }
        term others {
            then reject;
        }
    }
    community cernet2-bii members 23910:45275;
    community cernet2-cnisp members 23910:55466;
    community cernet2-cute members 23910:38585;
    as-path CUTE "^24350 38585$";
    as-path CNISP "^24350 38585 55466$";
    as-path BII "^24350 38585 45275$";
}
class-of-service {
    classifiers {
        dscp-ipv6 v6-classifier {
            forwarding-class default-traffic {
                loss-priority high code-points be;
            }
            forwarding-class realtime-traffic {
                loss-priority low code-points ef;
            }
            forwarding-class control-traffic {
                loss-priority low code-points nc1;
            }
        }
        exp mpls-classifier {
            forwarding-class default-traffic {
                loss-priority high code-points be;
            }
            forwarding-class realtime-traffic {
                loss-priority low code-points ef;
            }
        }
    }
    forwarding-classes {
        queue 0 default-traffic;
        queue 1 realtime-traffic;
        queue 2 control-traffic;
    }
    interfaces {
        ge-* {
            scheduler-map v6-mpls-map;
            unit * {
                classifiers {
                    dscp-ipv6 v6-classifier;
                    exp mpls-classifier;
                }
                rewrite-rules {
                    dscp-ipv6 v6-rewrite;
                    exp mpls-rewrite;
                }
            }
        }
        so-* {
            scheduler-map v6-mpls-map;
            unit * {
                classifiers {
                    dscp-ipv6 v6-classifier;
                    exp mpls-classifier;
                }
                rewrite-rules {
                    dscp-ipv6 v6-rewrite;
                    exp mpls-rewrite;
                }
            }
        }
        xe-* {
            unit * {
                classifiers {
                    dscp-ipv6 v6-classifier;
                    exp mpls-classifier;
                }
                rewrite-rules {
                    dscp-ipv6 v6-rewrite;
                    exp mpls-rewrite;
                }
            }
        }
    }
    rewrite-rules {
        dscp-ipv6 v6-rewrite {
            forwarding-class default-traffic {
                loss-priority high code-point be;
            }
            forwarding-class realtime-traffic {
                loss-priority low code-point ef;
            }
            forwarding-class control-traffic {
                loss-priority low code-point nc1;
            }
        }
        exp mpls-rewrite {
            forwarding-class default-traffic {
                loss-priority high code-point be;
            }
            forwarding-class realtime-traffic {
                loss-priority low code-point ef;
            }
        }
    }
    scheduler-maps {
        v6-mpls-map {
            forwarding-class default-traffic scheduler default-scheduler;
            forwarding-class realtime-traffic scheduler realtime-scheduler;
            forwarding-class control-traffic scheduler control-scheduler;
        }
    }
    schedulers {
        default-scheduler {
            transmit-rate remainder;
            buffer-size remainder;
            priority low;
        }
        realtime-scheduler {
            priority strict-high;
        }
        control-scheduler {
            transmit-rate percent 5;
            buffer-size percent 5;
            priority high;
        }
    }
}
firewall {
    family inet6 {
        filter ssmping {
            term bupt {
                from {
                    source-address {
                        2001:DA8:FF:10E::2/128;
                    }
                    destination-address {
                        FF3E::4321:1234/128;
                    }
                }
                then {
                    log;
                    accept;
                }
            }
            term others {
                then accept;
            }
        }
        filter RE_filter-v6 {
            term deny-v6-login {
                from {
                    destination-port [ telnet ssh ];
                }
                then {
                    reject;
                }
            }
            term Other_protocol {
                then accept;
            }
        }
        filter c2-cos {
            term bupt720p {
                from {
                    source-address {
                        2001:da8:215:4030::/64;
                    }
                    destination-address {
                        2001:da8:8000::/48;
                    }
                }
                then {
                    loss-priority low;
                    forwarding-class realtime-traffic;
                    accept;
                }
            }
            term default {
                then {
                    loss-priority high;
                    accept;
                }
            }
        }
        filter cos-ipv6 {
            term management {
                from {
                    destination-port [ ssh telnet ];
                }
                then {
                    forwarding-class realtime-traffic;
                    accept;
                }
            }
            term from-noc {
                from {
                    source-address {
                        2001:da8:bd::/48;
                    }
                }
                then {
                    loss-priority low;
                    forwarding-class realtime-traffic;
                    accept;
                }
            }
            term to-noc {
                from {
                    destination-address {
                        2001:da8:bd::/48;
                    }
                }
                then {
                    loss-priority low;
                    forwarding-class realtime-traffic;
                    accept;
                }
            }
            term video-BUPT {
                from {
                    source-address {
                        2001:da8:ff3a:c883:f000::/128;
                        2001:da8:215:4030:110:5980:84a0:186c/128;
                    }
                }
                then {
                    loss-priority low;
                    forwarding-class realtime-traffic;
                    accept;
                }
            }
            term video-SJTU {
                from {
                    source-address {
                        2001:da8:a4:ff::84/128;
                        2001:da8:a4:ff::85/128;
                        2001:da8:8000:6002::194/128;
                    }
                }
                then {
                    loss-priority low;
                    forwarding-class realtime-traffic;
                    accept;
                }
            }
            term video-USTC {
                from {
                    source-address {
                        2001:da8:d800::88/128;
                    }
                }
                then {
                    loss-priority low;
                    forwarding-class realtime-traffic;
                    accept;
                }
            }
            term video-LZU {
                from {
                    source-address {
                        2001:da8:c000::202/128;
                    }
                }
                then {
                    loss-priority low;
                    forwarding-class realtime-traffic;
                    accept;
                }
            }
            term video-CMC {
                from {
                    source-address {
                        2001:da8:6002:4::11/128;
                    }
                }
                then {
                    loss-priority low;
                    forwarding-class realtime-traffic;
                    accept;
                }
            }
            term default {
                then {
                    loss-priority high;
                    accept;
                }
            }
        }
        filter tag-abnormal {
            term abnoraml {
                from {
                    destination-address {
                        1FFF:FFFF:FFFF:FFFF::/64;
                        FBFF:FFFF:FFFF:FFFF::/64;
                        2001:57FF:FFFF:FFFF::/64;
                        2001:9FFF:FFFF:FFFF::/64;
                        2001:FFFF:FFFF:FFFF::/64;
                        23FF:FFFF:FFFF:FFFF::/64;
                        2BFF:FFFF:FFFF:FFFF::/64;
                        3FFF:FFFF:FFFF:FFFF::/64;
                        FDFF:FFFF:FFFF:FFFF::/64;
                        FE7F:FFFF:FFFF:FFFF::/64;
                        FFFF:FFFF:FFFF:FFEF::/64;
                    }
                }
                then log;
            }
            term default {
                then accept;
            }
        }
        filter ipv6-sample {
            term management {
                from {
                    destination-port [ ssh telnet ];
                }
                then {
                    sample;
                    forwarding-class realtime-traffic;
                    accept;
                }
            }
            term from-noc {
                from {
                    source-address {
                        2001:da8:bd::/48;
                    }
                }
                then {
                    sample;
                    loss-priority low;
                    forwarding-class realtime-traffic;
                    accept;
                }
            }
            term to-noc {
                from {
                    destination-address {
                        2001:da8:bd::/48;
                    }
                }
                then {
                    sample;
                    loss-priority low;
                    forwarding-class realtime-traffic;
                    accept;
                }
            }
            term video-BUPT {
                from {
                    source-address {
                        2001:da8:ff3a:c883:f000::/128;
                        2001:da8:215:4030:110:5980:84a0:186c/128;
                    }
                }
                then {
                    sample;
                    loss-priority low;
                    forwarding-class realtime-traffic;
                    accept;
                }
            }
            term video-SJTU {
                from {
                    source-address {
                        2001:da8:a4:ff::84/128;
                        2001:da8:a4:ff::85/128;
                        2001:da8:8000:6002::194/128;
                    }
                }
                then {
                    sample;
                    loss-priority low;
                    forwarding-class realtime-traffic;
                    accept;
                }
            }
            term video-USTC {
                from {
                    source-address {
                        2001:da8:d800::88/128;
                    }
                }
                then {
                    sample;
                    loss-priority low;
                    forwarding-class realtime-traffic;
                    accept;
                }
            }
            term video-LZU {
                from {
                    source-address {
                        2001:da8:c000::202/128;
                    }
                }
                then {
                    sample;
                    loss-priority low;
                    forwarding-class realtime-traffic;
                    accept;
                }
            }
            term video-CMC {
                from {
                    source-address {
                        2001:da8:6002:4::11/128;
                    }
                }
                then {
                    sample;
                    loss-priority low;
                    forwarding-class realtime-traffic;
                    accept;
                }
            }
            term default {
                then {
                    sample;
                    loss-priority high;
                    accept;
                }
            }
        }
    }
    filter RE_filter-v4 {
        term CNGI-6IX {
            from {
                source-address {
                    210.25.189.0/24;
                }
                destination-port [ ssh snmp ];
            }
            then accept;
        }
        term CERNET {
            from {
                source-address {
                    202.112.0.0/24;
                    202.112.3.0/24;
                    202.112.49.0/24;
                }
                destination-port [ ssh snmp ];
            }
            then accept;
        }
        term CERNET2 {
            from {
                source-address {
                    202.38.120.0/24;
                    219.243.208.6/32;
                }
                destination-port [ ssh snmp ];
            }
            then accept;
        }
        term NOC {
            from {
                source-address {
                    166.111.125.0/28;
                    219.243.215.64/26;
                    202.179.244.0/24;
                    59.66.66.0/28;
                    166.111.111.0/28;
                }
                destination-port [ ssh snmp ];
            }
            then accept;
        }
        term Dragon-Lab {
            from {
                source-address {
                    203.91.120.128/25;
                }
                destination-port [ ssh snmp ];
            }
            then accept;
        }
        term Staff {
            from {
                source-address {
                    166.111.8.133/32;
                    202.112.6.98/32;
                }
                destination-port [ ssh snmp ];
            }
            then accept;
        }
        term Xing {
            from {
                source-address {
                    202.112.0.56/32;
                    202.112.0.71/32;
                    202.38.97.34/32;
                    202.38.97.66/32;
                    202.112.3.202/32;
                    203.91.120.150/32;
                    202.38.120.246/32;
                    202.112.35.31/32;
                    202.112.35.32/32;
                    219.243.209.221/32;
                }
                destination-port [ telnet ssh snmp ];
            }
        }
        term NMS_Yang {
            from {
                source-address {
                    219.243.214.0/25;
                    166.111.143.192/26;
                    210.25.130.215/32;
                    210.25.130.219/32;
                    210.25.130.220/31;
                    219.243.215.36/32;
                    219.243.208.32/28;
                }
                destination-port snmp;
            }
            then accept;
        }
        term NMS_BUPT {
            from {
                source-address {
                    202.204.22.196/32;
                    202.112.10.2/32;
                    202.112.10.6/32;
                }
                destination-port snmp;
            }
            then accept;
        }
        term NMS_TEIN2 {
            from {
                source-address {
                    202.179.242.101/32;
                }
                destination-port snmp;
            }
            then accept;
        }
        term Other_address {
            from {
                destination-port [ ssh snmp telnet ];
            }
            then {
                reject;
            }
        }
        term Other_protocol {
            then accept;
        }
    }
    filter snmp-in {
        term edge {
            from {
                source-address {
                    10.0.0.0/8;
                }
            }
            then accept;
        }
    }
}
services {
    flow-monitoring {
        version9 {
            template ipv6 {
                ipv6-template;
            }
        }
    }
}

{master}
